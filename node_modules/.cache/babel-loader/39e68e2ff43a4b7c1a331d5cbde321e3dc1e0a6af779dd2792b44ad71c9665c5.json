{"ast":null,"code":"var _jsxFileName = \"/home/skylark/Desktop/PARTNERS-PROD/patners-dashboard/src/pages/explore/components/ProductsGrid.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Box, useTheme } from '@mui/material';\nimport { useAppDispatch, useAppSelector } from '../../../store/hooks.ts';\nimport { fetchProductById } from '../../../store/products/productThunk.ts';\nimport BundleHeader from './components/BundleHeader.tsx';\nimport SubBundleGrid from './components/SubBundleGrid.tsx';\nimport LoadingState from './components/LoadingState.tsx';\nimport ErrorState from './components/ErrorState.tsx';\nimport NotFoundState from './components/NotFoundState.tsx';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SubBundles = () => {\n  _s();\n  const {\n    bundleId\n  } = useParams();\n  const navigate = useNavigate();\n  const dispatch = useAppDispatch();\n  const theme = useTheme();\n  const isDarkMode = theme.palette.mode === 'dark';\n  const {\n    products,\n    product,\n    loading,\n    error,\n    productLoading,\n    productError\n  } = useAppSelector(state => state.products);\n  useEffect(() => {\n    const bundleInStore = products.find(p => p.id === parseInt(bundleId));\n    if (bundleInStore) {\n      if (bundleInStore.sub_bundles && bundleInStore.sub_bundles.length > 0) {\n        return;\n      }\n    }\n    if (!product || product.id !== parseInt(bundleId)) {\n      dispatch(fetchProductById(bundleId));\n    }\n  }, [bundleId, dispatch, product, products]);\n  const selectedBundle = product && product.id === parseInt(bundleId) ? product : products.find(p => p.id === parseInt(bundleId));\n  const handleBackToBundles = () => {\n    navigate('/explore');\n  };\n  const handleSubBundleSelect = subBundleId => {\n    navigate(`/bundles/${bundleId}/${subBundleId}`);\n  };\n  const getTierChipColor = tierName => {\n    const name = tierName.toLowerCase();\n    if (name.includes('core')) return \"primary\";\n    if (name.includes('plus')) return \"secondary\";\n    if (name.includes('max')) return \"error\";\n    return \"default\";\n  };\n  const getMinPrice = tiers => {\n    if (!tiers || tiers.length === 0) return 'N/A';\n    const prices = tiers.map(tier => parseFloat(tier.price.replace(/[^0-9.]/g, ''))).filter(price => !isNaN(price));\n    if (prices.length === 0) return 'N/A';\n    return `$${Math.min(...prices).toFixed(2)}`;\n  };\n  if (loading || productLoading) {\n    return /*#__PURE__*/_jsxDEV(LoadingState, {\n      message: \"Loading bundle details...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 12\n    }, this);\n  }\n  if (error || productError) {\n    return /*#__PURE__*/_jsxDEV(ErrorState, {\n      message: error || productError || 'Failed to load bundle details. Please try again.',\n      buttonText: \"Back to Bundles\",\n      onButtonClick: handleBackToBundles\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this);\n  }\n  if (!selectedBundle) {\n    return /*#__PURE__*/_jsxDEV(NotFoundState, {\n      message: \"Bundle not found. The requested bundle may have been removed or is unavailable.\",\n      buttonText: \"Back to Bundles\",\n      onButtonClick: handleBackToBundles\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      width: '100%',\n      minHeight: '100vh',\n      background: 'linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #0a0a0a 100%)',\n      px: 3\n    },\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        py: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(BundleHeader, {\n        bundle: selectedBundle,\n        onBackClick: handleBackToBundles,\n        isDarkMode: isDarkMode\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SubBundleGrid, {\n        subBundles: selectedBundle.sub_bundles,\n        onSubBundleSelect: handleSubBundleSelect,\n        getTierChipColor: getTierChipColor,\n        getMinPrice: getMinPrice\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n};\n_s(SubBundles, \"0Jamsh/78ws7alybZtdxRhw8Oxs=\", false, function () {\n  return [useParams, useNavigate, useAppDispatch, useTheme, useAppSelector];\n});\n_c = SubBundles;\nexport default SubBundles;\nvar _c;\n$RefreshReg$(_c, \"SubBundles\");","map":{"version":3,"names":["React","useEffect","useParams","useNavigate","Box","useTheme","useAppDispatch","useAppSelector","fetchProductById","BundleHeader","SubBundleGrid","LoadingState","ErrorState","NotFoundState","jsxDEV","_jsxDEV","SubBundles","_s","bundleId","navigate","dispatch","theme","isDarkMode","palette","mode","products","product","loading","error","productLoading","productError","state","bundleInStore","find","p","id","parseInt","sub_bundles","length","selectedBundle","handleBackToBundles","handleSubBundleSelect","subBundleId","getTierChipColor","tierName","name","toLowerCase","includes","getMinPrice","tiers","prices","map","tier","parseFloat","price","replace","filter","isNaN","Math","min","toFixed","message","fileName","_jsxFileName","lineNumber","columnNumber","buttonText","onButtonClick","sx","width","minHeight","background","px","children","py","bundle","onBackClick","subBundles","onSubBundleSelect","_c","$RefreshReg$"],"sources":["/home/skylark/Desktop/PARTNERS-PROD/patners-dashboard/src/pages/explore/components/ProductsGrid.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Box, useTheme } from '@mui/material';\nimport { useAppDispatch, useAppSelector } from '../../../store/hooks.ts';\nimport { fetchProductById } from '../../../store/products/productThunk.ts';\nimport BundleHeader from './components/BundleHeader.tsx';\nimport SubBundleGrid from './components/SubBundleGrid.tsx';\nimport LoadingState from './components/LoadingState.tsx';\nimport ErrorState from './components/ErrorState.tsx';\nimport NotFoundState from './components/NotFoundState.tsx';\n\nconst SubBundles = () => {\n  const { bundleId } = useParams();\n  const navigate = useNavigate();\n  const dispatch = useAppDispatch();\n  const theme = useTheme();\n  const isDarkMode = theme.palette.mode === 'dark';\n \n  const { products, product, loading, error, productLoading, productError } = useAppSelector(\n    (state) => state.products\n  );\n\n  useEffect(() => {\n    const bundleInStore = products.find(p => p.id === parseInt(bundleId));\n    \n    if (bundleInStore) {\n      if (bundleInStore.sub_bundles && bundleInStore.sub_bundles.length > 0) {\n        return;\n      }\n    }\n    \n    if (!product || product.id !== parseInt(bundleId)) {\n      dispatch(fetchProductById(bundleId));\n    }\n  }, [bundleId, dispatch, product, products]);\n\n  const selectedBundle = product && product.id === parseInt(bundleId) \n    ? product \n    : products.find(p => p.id === parseInt(bundleId));\n\n  const handleBackToBundles = () => {\n    navigate('/explore');\n  };\n\n  const handleSubBundleSelect = (subBundleId) => {\n    navigate(`/bundles/${bundleId}/${subBundleId}`);\n  };\n\n  const getTierChipColor = (tierName) => {\n    const name = tierName.toLowerCase();\n    if (name.includes('core')) return \"primary\";\n    if (name.includes('plus')) return \"secondary\";\n    if (name.includes('max')) return \"error\";\n    return \"default\";\n  };\n\n  const getMinPrice = (tiers) => {\n    if (!tiers || tiers.length === 0) return 'N/A';\n    const prices = tiers.map(tier => parseFloat(tier.price.replace(/[^0-9.]/g, ''))).filter(price => !isNaN(price));\n    if (prices.length === 0) return 'N/A';\n    return `$${Math.min(...prices).toFixed(2)}`;\n  };\n\n  if (loading || productLoading) {\n    return <LoadingState message=\"Loading bundle details...\" />;\n  }\n\n  if (error || productError) {\n    return (\n      <ErrorState \n        message={error || productError || 'Failed to load bundle details. Please try again.'} \n        buttonText=\"Back to Bundles\"\n        onButtonClick={handleBackToBundles}\n      />\n    );\n  }\n\n  if (!selectedBundle) {\n    return (\n      <NotFoundState \n        message=\"Bundle not found. The requested bundle may have been removed or is unavailable.\" \n        buttonText=\"Back to Bundles\"\n        onButtonClick={handleBackToBundles}\n      />\n    );\n  }\n\n  return (\n    <Box sx={{ \n      width: '100%', \n      minHeight: '100vh',\n      background: 'linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 50%, #0a0a0a 100%)',\n      px: 3 \n    }}>\n      <Box sx={{ py: 4 }}>\n        {/* Header with back button */}\n        <BundleHeader \n          bundle={selectedBundle}\n          onBackClick={handleBackToBundles}\n          isDarkMode={isDarkMode}\n        />\n\n        {/* Sub-bundles grid */}\n        <SubBundleGrid \n          subBundles={selectedBundle.sub_bundles}\n          onSubBundleSelect={handleSubBundleSelect}\n          getTierChipColor={getTierChipColor}\n          getMinPrice={getMinPrice}\n        />\n      </Box>\n    </Box>\n  );\n};\n\nexport default SubBundles;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}