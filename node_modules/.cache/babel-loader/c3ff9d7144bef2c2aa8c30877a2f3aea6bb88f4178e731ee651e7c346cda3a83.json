{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { getCustomersList, getCustomerDashboard, createBulkSubscriptions } from \"./customerThunk.ts\";\nconst customerInitialState = {\n  isLoading: false,\n  customers: [],\n  dashboard: {\n    customer: null,\n    total_spent: 0,\n    subscriptions: [],\n    latest_bundles: []\n  },\n  checkoutStatus: {\n    loading: false,\n    success: false,\n    error: null\n  },\n  error: null\n};\nconst customerSlice = createSlice({\n  name: \"customerSlice\",\n  initialState: customerInitialState,\n  reducers: {\n    resetCheckoutStatus: state => {\n      state.checkoutStatus = {\n        loading: false,\n        success: false,\n        error: null\n      };\n    }\n  },\n  extraReducers: builder => {\n    builder\n    // Get Customers List\n    .addCase(getCustomersList.pending, state => {\n      state.isLoading = true;\n      state.error = null;\n    }).addCase(getCustomersList.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.customers = action.payload.data || [];\n    }).addCase(getCustomersList.rejected, (state, action) => {\n      var _action$payload;\n      state.isLoading = false;\n      state.error = ((_action$payload = action.payload) === null || _action$payload === void 0 ? void 0 : _action$payload.error) || \"Failed to fetch customers\";\n    })\n\n    // Get Customer Dashboard\n    .addCase(getCustomerDashboard.pending, state => {\n      state.isLoading = true;\n      state.error = null;\n    }).addCase(getCustomerDashboard.fulfilled, (state, action) => {\n      var _action$payload$data, _action$payload$data2, _action$payload$data3, _action$payload$data4;\n      state.isLoading = false;\n      state.dashboard = {\n        customer: ((_action$payload$data = action.payload.data) === null || _action$payload$data === void 0 ? void 0 : _action$payload$data.customer) || null,\n        total_spent: ((_action$payload$data2 = action.payload.data) === null || _action$payload$data2 === void 0 ? void 0 : _action$payload$data2.total_spent) || 0,\n        subscriptions: ((_action$payload$data3 = action.payload.data) === null || _action$payload$data3 === void 0 ? void 0 : _action$payload$data3.subscriptions) || [],\n        latest_bundles: ((_action$payload$data4 = action.payload.data) === null || _action$payload$data4 === void 0 ? void 0 : _action$payload$data4.latest_bundles) || []\n      };\n    }).addCase(getCustomerDashboard.rejected, (state, action) => {\n      var _action$payload2;\n      state.isLoading = false;\n      state.error = ((_action$payload2 = action.payload) === null || _action$payload2 === void 0 ? void 0 : _action$payload2.error) || \"Failed to fetch customer dashboard\";\n    }).addCase(createBulkSubscriptions.pending, state => {\n      state.checkoutStatus.loading = true;\n      state.checkoutStatus.success = false;\n      state.checkoutStatus.error = null;\n    }).addCase(createBulkSubscriptions.fulfilled, (state, action) => {\n      state.checkoutStatus.loading = false;\n      state.checkoutStatus.success = true;\n    }).addCase(createBulkSubscriptions.rejected, (state, action) => {\n      var _action$payload3, _action$payload3$erro;\n      console.log(\"ðŸš€ ~ .addCase ~ action:\", action);\n      state.checkoutStatus.loading = false;\n      state.checkoutStatus.error = ((_action$payload3 = action.payload) === null || _action$payload3 === void 0 ? void 0 : (_action$payload3$erro = _action$payload3.error) === null || _action$payload3$erro === void 0 ? void 0 : _action$payload3$erro.data) || \"Failed to complete checkout\";\n    });\n  }\n});\nexport const customerActions = customerSlice.actions;\nexport default customerSlice;","map":{"version":3,"names":["createSlice","getCustomersList","getCustomerDashboard","createBulkSubscriptions","customerInitialState","isLoading","customers","dashboard","customer","total_spent","subscriptions","latest_bundles","checkoutStatus","loading","success","error","customerSlice","name","initialState","reducers","resetCheckoutStatus","state","extraReducers","builder","addCase","pending","fulfilled","action","payload","data","rejected","_action$payload","_action$payload$data","_action$payload$data2","_action$payload$data3","_action$payload$data4","_action$payload2","_action$payload3","_action$payload3$erro","console","log","customerActions","actions"],"sources":["/home/skylark/Desktop/PARTNERS-PROD/patners-dashboard/src/store/customers/customerSlice.ts"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport { getCustomersList, getCustomerDashboard, createBulkSubscriptions } from \"./customerThunk.ts\";\n\nconst customerInitialState = {\n  isLoading: false,\n  customers: [],\n  dashboard: {\n    customer: null,\n    total_spent: 0,\n    subscriptions: [],\n    latest_bundles: []\n  },\n  checkoutStatus: {\n    loading: false,\n    success: false,\n    error: null\n  },\n  error: null\n};\n\nconst customerSlice = createSlice({\n  name: \"customerSlice\",\n  initialState: customerInitialState,\n  reducers: {\n    resetCheckoutStatus: (state) => {\n      state.checkoutStatus = {\n        loading: false,\n        success: false,\n        error: null\n      };\n    }\n  },\n  extraReducers: (builder) => {\n    builder\n      // Get Customers List\n      .addCase(getCustomersList.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(getCustomersList.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.customers = action.payload.data || [];\n      })\n      .addCase(getCustomersList.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload?.error || \"Failed to fetch customers\";\n      })\n      \n      // Get Customer Dashboard\n      .addCase(getCustomerDashboard.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(getCustomerDashboard.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.dashboard = {\n          customer: action.payload.data?.customer || null,\n          total_spent: action.payload.data?.total_spent || 0,\n          subscriptions: action.payload.data?.subscriptions || [],\n          latest_bundles: action.payload.data?.latest_bundles || []\n        };\n      })\n      .addCase(getCustomerDashboard.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload?.error || \"Failed to fetch customer dashboard\";\n      })\n\n      .addCase(createBulkSubscriptions.pending, (state) => {\n        state.checkoutStatus.loading = true;\n        state.checkoutStatus.success = false;\n        state.checkoutStatus.error = null;\n      })\n      .addCase(createBulkSubscriptions.fulfilled, (state, action) => {\n        state.checkoutStatus.loading = false;\n        state.checkoutStatus.success = true;\n      })\n      .addCase(createBulkSubscriptions.rejected, (state, action) => {\n        console.log(\"ðŸš€ ~ .addCase ~ action:\", action)\n        state.checkoutStatus.loading = false;\n        state.checkoutStatus.error = action.payload?.error?.data || \"Failed to complete checkout\";\n      })\n  }\n});\n\nexport const customerActions = customerSlice.actions;\nexport default customerSlice;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}